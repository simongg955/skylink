<style>
.titulo{
    color: #ebf2f6;
    text-align: center;
}
.divbar{
    overflow: hidden;
    text-align: center;
}

p {
    margin-top: 75px;
}

img{
    float: left;
    margin-left: 300px;
    margin-top: 30px;
    border-radius: 100%;
    -webkit-border-radius: 70%;
    -moz-border-radius: 70%;
    -ms-border-radius: 70%;
    -o-border-radius: 70%;
    height: 200px;
    object-fit: cover;
    /*Ajustalaimagenparallenarelespaciosindistorsión*/
}


p {
    color: #ebf2f6;
    margin-top: 75px;
}

.h1{
    color: #ebf2f6;
}
h1{
    color: rgb(70, 70, 238);
}
.objetos{
    color: rgb(70, 70, 238) ;
    margin-top: 30px;
}
.confeimg{
    margin-top: 150px;
}
.descripcioninicio{
    color: 	#ebf2f6 ;
}
.fecha{
    color: rgb(70, 70, 238) ;
}
.tituloinicio{
    color: #2a6e9e ;
}
.verdetalles{
    color: #144c7a ;
    text-decoration: underline !important;
}

a{
    text-decoration: none !important;
    color: 	#ebf2f6;
}
.crearButton{
    background-color: black;
color: 	#ebf2f6;
}
.editarButton{
    background-color: black;
    color: 	#ebf2f6;

}

.editarButton:hover{
background-color: blue
}
.eliminarButton{
    background-color: black;
    color: 	#ebf2f6;

}
.eliminarButton:hover{
    background-color: red !important;
}
.contenedorNoticias{
      display: flex;
  justify-content: center;
  align-items: center;
}

@keyframes slideInFromLeft {
    0% {
        transform: translateX(-100%);
    }
    100% {
        transform: translateX(0);
    }
}


.animacion-noticia.noticia-visible {
    animation: slideInFromLeft 0.5s ease-out;
}



</style>
<body>
  
<div class="objetos">
    <div class="contenedorNoticias">
            <button class="crearButton" id="crearButton"><a href="/crearnoticias">crear</a></button>
        </div>
{{#each querynoticias}}
<div class="animacion-noticia noticia-contenedor noticia-oculto">
        <div class="confeimg">
        <p style="display: none;">{{id_noticias}}</p>
        <img src="{{imagen}}">
        <h1 class="tituloinicio"> {{titulo}} </h1>
        <h4 class="descripcioninicio"> {{descripcion}} </h4>
        <h4 class="fecha">{{fecha_convertida}} </h4>
                        <p> 
            <a href="/verdetallesnoticias/{{id_noticias}}" class="verdetalles">
                ver mas detalles
            </a>
        </div>
        </div>
        </div>
        
        <div class="contenedorNoticias">
            
            <button class="editarButton" id="editarButton"><a href="/editarnoticias/{{id_noticias}}
"><i class="fas fa-edit"></i></a></button>
            <button class="eliminarButton" id="eliminarButton" onclick="validarEliminar('{{id_noticias}}')"><i class="iconof fas fa-trash-alt" style="color: white;"></i></button>

        </div>

        {{/each}}


<script>
    // Función para confirmar si un usuario desea eliminar una noticia
    function validarEliminar(id_noticias) {
        Swal.fire({
            title: '¿Estás seguro?',
            text: 'Se eliminará la noticia seleccionada, ¿deseas continuar?',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Sí, eliminar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {
            if (result.isConfirmed) {
                axios.post('/eliminarnoticias', {
                    id_noticias: id_noticias
                }).then(function (response) {
                    Swal.fire({
                        title: '¡Eliminada!',
                        text: response.data.mensaje,
                        icon: 'success'
                    }).then(() => {
                        window.location.href = '/noticias';
                    });
                }).catch(function (response) {
                    Swal.fire({
                        title: 'Error',
                        text: response.data.mensaje,
                        icon: 'error'
                    }).then(() => {
                        window.location.href = '/noticias';
                    });
                });
            }
        });
    }
</script>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const noticiasContenedores = document.querySelectorAll(".noticia-contenedor");
    
    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.remove("noticia-oculto");
                entry.target.classList.add("noticia-visible");
                observer.unobserve(entry.target);
            }
        });
    });

    noticiasContenedores.forEach(curso => {
        observer.observe(curso);
    });
});
</script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.6/dist/sweetalert2.min.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.6/dist/sweetalert2.min.js"></script>
</body>